{% extends "base.html" %}

{% block body %}
<div class="container">
    <div class="row">
{% include 'sidebar.html' %}

    <div class="col-6">
  <h1>Add Result</h1>
  <form method="post" class="form">
    {% csrf_token %}
    <label for="subject">Student:</label>
    <div class="row-fluid">
      <select  data-show-subtext="true" data-live-search="true" data-live-search-placeholder="Test" name="student" id="student">
        {% for student in students %}
        <option data-subtext="{{student.name}}" value={{student.id}}>{{student.name}}</option>
        {% endfor %}
      
      </select>
      
    </div>
    <div class="form-group">
      <label for="subject">Subject:</label>
      <div class="input-group">
        <select class="form-control" id="subject" name="subject">
          {% for subject in subjects %}
          <option value="{{ subject.id }}">{{ subject.subject }}</option>
          {% endfor %}
        </select>
        
      </div>
    </div>
    <div class="form-group">
      <label for="marks">Marks:</label>
      <input type="number" class="form-control" id="marks" name="marks" min="1" max="100">
    </div>
    <button type="submit" class="btn btn-primary">Add Result</button>
  </form>
</div>

<!-- Subject Modal -->
<div class="modal fade" id="subjectModal" tabindex="-1" role="dialog" aria-labelledby="subjectModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="subjectModalLabel">Select a Subject</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <input type="text" class="form-control" id="subject-search" placeholder="Search for a subject...">
        <ul class="list-group mt-2">
          {% for subject in subjects %}
          <li class="list-group-item subject-item" data-subject="{{ subject.subject }}" data-subject-id="{{ subject.id }}">{{ subject.subject }}</li>
          {% endfor %}
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.6.3/js/bootstrap-select.min.js"></script>
{% endblock %}

